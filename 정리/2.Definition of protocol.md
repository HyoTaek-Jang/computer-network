# protocol 이란

- 외교에서 각 나라들마다 관습이나 풍습이 다른데, 협상을 할 때 서로 간 통일된 무언가 만들어져야함. 같은 악수여도 다른 뜻이 있을 수 있으니까!
- 네트워크도 둘이 충돌없이 잘 통신하도록 하는 절차와 규칙!
- 의료에도 일련의 절차, 즉, 프로토콜이 있음

사회에선 : 에티켓
의료, 과학에선 : 사전에 정의된 실험 규칙 및 절차, 의료는 의료처치를 위한 과정

- 컴퓨터에서 커뮤니케이션 : 네트워크 간의 대화.

  - 성공적인 커뮤니케이션이 되려면 어떤 얘기를 해야하는지 주제를 알고있어야함.
  - 약속을 잡기위해 어떤 수단을 쓸 것인가.
  - 시간도 둘이 약속해서 동시에 해야함.

- Definition of communication protocol
  커뮤니케이션하려면 엔티티가 두 개 이상!
  정보를 성공적으로 교환하기 위한 일련의 일치되어야할 규칙!

- key elements of a protocol

## syntax : data format

데이터 형식
데이터 압축을 한 것을 풀 때, 정보를 인코딩, 디코딩하는 내용
전기를 보낼 때 시그널의 값!

## semantics : 메시지가 전송하거나 받을때 수행할 액션

신텍스에 맞춰서 메시지를 보낼떄, 메시지의 데이터 형식을 이해해서 요구되는 반응을 하는 것
response
control info
error handling
서버와 클라 모두 semantic이 있다

## Timing : 메세지의 순서

내가 메시지를 보낼때 너무커서 잘라서 보낼 때, 상대방이 받아서 제대로 된 순서로 맞출때, 원래 만들어진 순서 정보를 알아야함! -> sequence number.

ex) TFTP(Trival File Transfer Protocol) : FTP를 경량화
: ftp기능이 있지만 사람의 관여없이 간략하게 파일 교환만 해서 필요한 기능을 하게 해주는 프로토콜
syntax : packet formats
semantics : 정보가 가면 장치가 알아보고 동작을 하는 절차가 정의된것 procedure and error handling
timing : 파일 크기가 커서 나눠 보낼때 시퀀스 넘버를 적어서 보내고 잘 받으면 ACK를 보냄

# layered protocol model

커뮤케이션 시스템 프로토콜은 레이어 구조를 갖고있다. 여러 계층으로 이뤄져있음

- 왜 계층구조가 필요한가!? (top down approach)
  protocols and interfaces
  프로토콜을 만들어 소통 시 장벽이 생기면 해결하기 위해 레이어가 생겨서 인터페이스가 제공된다.
  각 문제만 해결해주면 되는거임. 그 레이어는!

1. 철학자가 둘이 얘기하는데 언어가 다름
2. 통역사를 고용해서 해결함 근데 떨어져있어서 힘듬
3. 통신국이 들어서서 해결함

레이어는 독립적임(independence among layers)
각 그룹은 서로 직접적인 관련없이 독립적임.
자기 할 일만 잘하면 됨

어떤 어플리케이션이 있어서 세가지 독립 그룹이 필요하면 서로 간에 인터페이스를 통해 연결을하여 사용할 수 있음.

컴퓨터 시스템이 통신할때 하나의 프로토콜에서 구현해놓으면 복잡도가 커짐. 문제가 생김. 하나의 문제가 다른곳에 영향을 끼침.
효과적인 처리를 위해 통신 시스템도 레이어 구조를 갖게함

장점 :
각각 프로토콜은 서로 독립적이라 디자인할때 편함
각가 프로토콜은 자신의 일에 집중할 수 있음. 더 좋은 레이어가 생김
한쪽의 레이어의 변화가 다른쪽에 영향을 안끼침
특정 프로토콜 문제 개선이 용이해짐
서로 간 통일된 형식으로 운영되어 독립적으로 존재하는 서로 엮어서 원하는 앱을 만들기 쉬움
프로토콜을 배우고 이해하기 좋음

### 서로 성공적으로 커뮤니케이션 하려면 !!!!!

1. 두 엔티티의 레이어 개수가 일치해야한다
2. 레이어 수에 해당하는 동일한 프로토콜이 존재해야함
3. 독립성을 갖는 애들을 이어주는 인터페이스. 서로 레이어들은 동일한 인터페이스로 연결되야함

통신시스템은 보편적인 상황만을 고려함
레이어를 건너 뛰는 인터페이스는 없다.
같은 층이 아닌 다른 층과 연결되는 프로토콜은 없다

통신은 전세계 통신 관련 기관에 공통적으로 적용할 수 있는 표준이 있음. 규격화 표준화

계층화된 통신 시스템의 표준은 2개가이쑴

1. OIS(Open system interconnection) Reference Model
   ISO기관에서 대표가 모여서 공식적으로 표준을 만듬
   7개의 레이어를 갖고있음
   잘만들려고해서 너무 늦게 나와서 잘 쓰진 않고 학습용으로 씀

2. TCP/IP 우리가 쓰는거
   The de facto standard (사실상 표준)
   5개의 레이어
   Most widely used
   얘는 걍 사용자한테 주고 써봐라 하고 다 같이 쓰는 느낌
   많은 사람이 쓰니까 또 잘 사용하게 만들려고 하는게 문서를 만듬! RFC!!!!!(Request for comment) 개선방향을 위한 문서
   이걸 참고해서 계속 업데이트하면서 발전!
   만약 처음에 만들었는데 별로면 RFC도 없이 그냥 사라지는 적자생존메카니즘이 존재함

   Application레이어에서 OSI에 application presentation session레이어를 포함함

### OSI 7 layer

1. application layer
   사용자가 제일 위에있는 통신시스템에 접근하기 위한 수단을 제공하는 레이서.
   ex)에플리케이션 레이어는 인터넷에서 영화볼때 하나는 필름데이터와 한쪽은 화면임.
2. presentation layer
   원본을 그대로 보내면 너무커서 감당이 안됨. 다양한 걸로 압축, 암호화해서 원본을 특정한 형태로 나타내는것, 인코딩 디코딩
3. session
   보내고 받는 쪽에 과정을 컨트롤해줘야함. 영화볼때 리모콘 같은거
4. transport
   앞에서 과정에서 컴퓨터간 정보가 만들어지거나 수신하면 정보를 정확하게 어떤식으로 전달할지 방식을 결정
   등기로 보내는지 일반우편으로 보내는지 결정하는거
   어플리케이션에서 만들어진걸 상대방에서 어케 전달할지
5. network
   전달방식이 정해지고 상대방에서 전달하는 레이어
   주소에 맞춰서 메카니즘에 따라 편지를 전달하는!
   routing, forwarding
   5-1 data link(라우터가 연결되있는거 link)
   피지컬선으로 직접 연결되있는 두 통신장비에서 정보전달을 책임짐. 이게 여러개 거쳐서 network가 이뤄짐
   5-2. physical layer
   링크에서 전기로 변환해서 정보를 주고받는곳

   편지를 쓴다(어플리케이션) - 편지에 감정을 담는다(프레젠테이션) - 편지를 봉투에 담는다(세션)

- Why TCP/IP
  레이어 아키텍쳐는 레이어간에 인디펜던트를 보장해줘야함
  각각 레이어는 프로토콜이 있음
  레이어가 인터페이스로 연결되어 커뮤니케이션을 도와줌

  ex) movie
  Application(Display)
  Presentation(Codec)
  Session(Dialogue control)
  -> 3개를 모아서 application으로 묶음

### 질문) 레이어계층을 좋다하면서 왜 이걸 묶음?
