네트웤 레이어에 있는 옵션 icmp, igmp

ip의 unreliable한 특징을 보조하는 프로토콜

# ICMP

데이터그램 패킷 스위칭을 사용함. -> 패킷이 아웃오브오더나 로스가 발생함.

이건 호스트(센더)와 라우터 간 네트웤 레이어에서 정보를 주고받기 위한 프로토콜
주로 에러, 상대방까지 도착을 못한 경우... 상대방이 살아있는지 확인하는 핑...

기존은 센더가 패킷이 잘 가는지 모르는데 ICMP를 사용하면 라우터가 중간에 있는 노드에 문제가 생기면 소스(센더)한테 알려줌.
그러면 센더는 알 수 있음 상황을 ㅇㅇ!

ICMP 헤더 : 8바이트
type 1, code 1, checksum 2, unuse 4
그리고 ip 헤더 + 64비트 오리지널 데이터 데이터그램
문제 발생했을때 어떤 패킷에서 났는지 알려주기 위해서 ㅇㅇ!

타입이랑 코드로 상황을 알고!
뒷부분으로 어떤 패킷에서 문제가 떳는지 알 수 있음

이렇게 만든걸 ip datagram에 바로 넣음

그리고 icmp를 어케아나? ip 데이터 그램 헤더에 있는 upper layer protocol을 봤을때 1로되면 icmp임

이렇게 만들어진 ping!
상대방이 살아있는지 확인
type 8, code 0으로 보냈을때 type 0 code 0으로 오면 정상

정상은 RTT도 나옴
ㅇㅇ 다양한 정보를 주네여

또 응용! traceroute
내가 보낸 패킷이 목적지에 도착할때 어떤 라우터를 경유하는지 확인하는!
UDP 활용! TTL을 조정하면서 route를 확인함.
TTL을 1로 보내면 도착했을때 폐기함. 폐기하면서 소스한테 type 11 code 0를 보냄, 소스 ip를 보내면 알 수 있으니까 라우터를 암
그리고 2를 보내고! 3,4,5...

RTT도 알아서 어디서 느려졌는지도 알 수 있음
